{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useAuth}from'../AuthContext';import axios from'axios';import{Pie,Bar}from'react-chartjs-2';import{Chart as ChartJS,ArcElement,Tooltip,Legend,BarElement,CategoryScale,LinearScale}from'chart.js';import{FaChartBar}from'react-icons/fa';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";ChartJS.register(ArcElement,Tooltip,Legend,BarElement,CategoryScale,LinearScale);function Analytics(){const[analytics,setAnalytics]=useState({posted:0,scheduled:0,canceled:0,posts_by_day:{}});const{user}=useAuth();useEffect(()=>{const fetchAnalytics=async()=>{if(!user)return;try{const response=await axios.get('http://localhost:5000/api/analytics',{params:{user_urn:user.urn}});setAnalytics(response.data);}catch(error){console.error('Error fetching analytics:',error);}};fetchAnalytics();},[user]);const pieData={labels:['Posted','Scheduled','Canceled'],datasets:[{data:[analytics.posted,analytics.scheduled,analytics.canceled],backgroundColor:['#34D399','#3B82F6','#EF4444'],hoverBackgroundColor:['#2DD4BF','#60A5FA','#F87171']}]};const pieOptions={responsive:true,plugins:{legend:{position:'top',labels:{color:'#1F2937'}},tooltip:{backgroundColor:'#1F2937'}}};const barData={labels:Object.keys(analytics.posts_by_day),datasets:[{label:'Posts Posted',data:Object.values(analytics.posts_by_day),backgroundColor:'#3B82F6',borderColor:'#2563EB',borderWidth:1}]};const barOptions={responsive:true,scales:{x:{ticks:{color:'#1F2937'}},y:{ticks:{color:'#1F2937'},beginAtZero:true}},plugins:{legend:{labels:{color:'#1F2937'}},tooltip:{backgroundColor:'#1F2937'}}};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl shadow-lg\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-2xl font-bold text-blue-800 mb-6 flex items-center\",children:[/*#__PURE__*/_jsx(FaChartBar,{className:\"mr-2\"}),\" LinkedIn Analytics Dashboard\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 mb-4\",children:[\"Analytics for: \",user===null||user===void 0?void 0:user.urn]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 bg-green-100 rounded-md text-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-green-800\",children:\"Posts Posted\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-green-600\",children:analytics.posted})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 bg-blue-100 rounded-md text-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-blue-800\",children:\"Posts Scheduled\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-blue-600\",children:analytics.scheduled})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 bg-red-100 rounded-md text-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-red-800\",children:\"Posts Canceled\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-red-600\",children:analytics.canceled})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-700 mb-4\",children:\"Post Status Distribution\"}),/*#__PURE__*/_jsx(Pie,{data:pieData,options:pieOptions})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-700 mb-4\",children:\"Posts Posted (Last 7 Days)\"}),/*#__PURE__*/_jsx(Bar,{data:barData,options:barOptions})]})]})]});}export default Analytics;","map":{"version":3,"names":["React","useState","useEffect","useAuth","axios","Pie","Bar","Chart","ChartJS","ArcElement","Tooltip","Legend","BarElement","CategoryScale","LinearScale","FaChartBar","jsx","_jsx","jsxs","_jsxs","register","Analytics","analytics","setAnalytics","posted","scheduled","canceled","posts_by_day","user","fetchAnalytics","response","get","params","user_urn","urn","data","error","console","pieData","labels","datasets","backgroundColor","hoverBackgroundColor","pieOptions","responsive","plugins","legend","position","color","tooltip","barData","Object","keys","label","values","borderColor","borderWidth","barOptions","scales","x","ticks","y","beginAtZero","className","children","options"],"sources":["/home/prashant/Documents/work-related/projects/test/linkedin-agent/frontend/src/components/Analytics.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../AuthContext';\nimport axios from 'axios';\nimport { Pie, Bar } from 'react-chartjs-2';\nimport { Chart as ChartJS, ArcElement, Tooltip, Legend, BarElement, CategoryScale, LinearScale } from 'chart.js';\nimport { FaChartBar } from 'react-icons/fa';\n\nChartJS.register(ArcElement, Tooltip, Legend, BarElement, CategoryScale, LinearScale);\n\nfunction Analytics() {\n  const [analytics, setAnalytics] = useState({\n    posted: 0,\n    scheduled: 0,\n    canceled: 0,\n    posts_by_day: {},\n  });\n  const { user } = useAuth();\n\n  useEffect(() => {\n    const fetchAnalytics = async () => {\n      if (!user) return;\n      try {\n        const response = await axios.get('http://localhost:5000/api/analytics', {\n          params: { user_urn: user.urn },\n        });\n        setAnalytics(response.data);\n      } catch (error) {\n        console.error('Error fetching analytics:', error);\n      }\n    };\n    fetchAnalytics();\n  }, [user]);\n\n  const pieData = {\n    labels: ['Posted', 'Scheduled', 'Canceled'],\n    datasets: [\n      {\n        data: [analytics.posted, analytics.scheduled, analytics.canceled],\n        backgroundColor: ['#34D399', '#3B82F6', '#EF4444'],\n        hoverBackgroundColor: ['#2DD4BF', '#60A5FA', '#F87171'],\n      },\n    ],\n  };\n\n  const pieOptions = {\n    responsive: true,\n    plugins: {\n      legend: { position: 'top', labels: { color: '#1F2937' } },\n      tooltip: { backgroundColor: '#1F2937' },\n    },\n  };\n\n  const barData = {\n    labels: Object.keys(analytics.posts_by_day),\n    datasets: [\n      {\n        label: 'Posts Posted',\n        data: Object.values(analytics.posts_by_day),\n        backgroundColor: '#3B82F6',\n        borderColor: '#2563EB',\n        borderWidth: 1,\n      },\n    ],\n  };\n\n  const barOptions = {\n    responsive: true,\n    scales: {\n      x: { ticks: { color: '#1F2937' } },\n      y: { ticks: { color: '#1F2937' }, beginAtZero: true },\n    },\n    plugins: {\n      legend: { labels: { color: '#1F2937' } },\n      tooltip: { backgroundColor: '#1F2937' },\n    },\n  };\n\n  return (\n    <div className=\"bg-white p-6 rounded-xl shadow-lg\">\n      <h2 className=\"text-2xl font-bold text-blue-800 mb-6 flex items-center\">\n        <FaChartBar className=\"mr-2\" /> LinkedIn Analytics Dashboard\n      </h2>\n      <p className=\"text-gray-600 mb-4\">Analytics for: {user?.urn}</p>\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\n        <div className=\"p-4 bg-green-100 rounded-md text-center\">\n          <h3 className=\"text-lg font-semibold text-green-800\">Posts Posted</h3>\n          <p className=\"text-3xl font-bold text-green-600\">{analytics.posted}</p>\n        </div>\n        <div className=\"p-4 bg-blue-100 rounded-md text-center\">\n          <h3 className=\"text-lg font-semibold text-blue-800\">Posts Scheduled</h3>\n          <p className=\"text-3xl font-bold text-blue-600\">{analytics.scheduled}</p>\n        </div>\n        <div className=\"p-4 bg-red-100 rounded-md text-center\">\n          <h3 className=\"text-lg font-semibold text-red-800\">Posts Canceled</h3>\n          <p className=\"text-3xl font-bold text-red-600\">{analytics.canceled}</p>\n        </div>\n      </div>\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        <div>\n          <h3 className=\"text-lg font-semibold text-gray-700 mb-4\">Post Status Distribution</h3>\n          <Pie data={pieData} options={pieOptions} />\n        </div>\n        <div>\n          <h3 className=\"text-lg font-semibold text-gray-700 mb-4\">Posts Posted (Last 7 Days)</h3>\n          <Bar data={barData} options={barOptions} />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Analytics;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}