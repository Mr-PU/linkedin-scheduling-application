{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{FaPen}from'react-icons/fa';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function PostGenerator(_ref){let{onPostsGenerated}=_ref;const[prompt,setPrompt]=useState('');const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const navigate=useNavigate();const handleGenerate=async()=>{if(!prompt.trim()){setError('Please enter a prompt.');return;}setLoading(true);setError(null);try{const response=await axios.post('http://localhost:5000/api/generate-posts',{prompt});const generatedPosts=response.data.variations;console.log('Generated posts from backend:',generatedPosts);onPostsGenerated(generatedPosts);console.log('Navigating to /review');navigate('/review');}catch(error){var _error$response;console.error('Error generating posts:',((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data)||error.message);setError('Failed to generate posts. Please try again.');}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl shadow-lg\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-2xl font-bold text-blue-800 mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(FaPen,{className:\"mr-2\"}),\" Generate LinkedIn Posts\"]}),/*#__PURE__*/_jsx(\"textarea\",{value:prompt,onChange:e=>setPrompt(e.target.value),placeholder:\"Enter a prompt for post generation...\",className:\"w-full p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",rows:\"16\",disabled:loading}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600 mt-2 mb-4\",children:error}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleGenerate,disabled:loading,className:`mt-4 w-full py-3 rounded-md transition font-semibold flex items-center justify-center ${loading?'bg-gray-400 cursor-not-allowed':'bg-blue-600 text-white hover:bg-blue-700'}`,children:[/*#__PURE__*/_jsx(FaPen,{className:\"mr-2\"}),loading?'Generating...':'Generate Posts']})]});}export default PostGenerator;","map":{"version":3,"names":["React","useState","axios","FaPen","useNavigate","jsx","_jsx","jsxs","_jsxs","PostGenerator","_ref","onPostsGenerated","prompt","setPrompt","loading","setLoading","error","setError","navigate","handleGenerate","trim","response","post","generatedPosts","data","variations","console","log","_error$response","message","className","children","value","onChange","e","target","placeholder","rows","disabled","onClick"],"sources":["/home/prashant/Documents/work-related/projects/test/linkedin-agent/frontend/src/components/PostGenerator.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport { FaPen } from 'react-icons/fa';\nimport { useNavigate } from 'react-router-dom';\n\nfunction PostGenerator({ onPostsGenerated }) {\n  const [prompt, setPrompt] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const navigate = useNavigate();\n\n  const handleGenerate = async () => {\n    if (!prompt.trim()) {\n      setError('Please enter a prompt.');\n      return;\n    }\n    setLoading(true);\n    setError(null);\n    try {\n      const response = await axios.post('http://localhost:5000/api/generate-posts', { prompt });\n      const generatedPosts = response.data.variations;\n      console.log('Generated posts from backend:', generatedPosts);\n      onPostsGenerated(generatedPosts);\n      console.log('Navigating to /review');\n      navigate('/review');\n    } catch (error) {\n      console.error('Error generating posts:', error.response?.data || error.message);\n      setError('Failed to generate posts. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"bg-white p-6 rounded-xl shadow-lg\">\n      <h2 className=\"text-2xl font-bold text-blue-800 mb-4 flex items-center\">\n        <FaPen className=\"mr-2\" /> Generate LinkedIn Posts\n      </h2>\n      <textarea\n        value={prompt}\n        onChange={(e) => setPrompt(e.target.value)}\n        placeholder=\"Enter a prompt for post generation...\"\n        className=\"w-full p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        rows=\"16\"\n        disabled={loading}\n      />\n      {error && <p className=\"text-red-600 mt-2 mb-4\">{error}</p>}\n      <button\n        onClick={handleGenerate}\n        disabled={loading}\n        className={`mt-4 w-full py-3 rounded-md transition font-semibold flex items-center justify-center ${\n          loading ? 'bg-gray-400 cursor-not-allowed' : 'bg-blue-600 text-white hover:bg-blue-700'\n        }`}\n      >\n        <FaPen className=\"mr-2\" />\n        {loading ? 'Generating...' : 'Generate Posts'}\n      </button>\n    </div>\n  );\n}\n\nexport default PostGenerator;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,KAAK,KAAQ,gBAAgB,CACtC,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/C,QAAS,CAAAC,aAAaA,CAAAC,IAAA,CAAuB,IAAtB,CAAEC,gBAAiB,CAAC,CAAAD,IAAA,CACzC,KAAM,CAACE,MAAM,CAAEC,SAAS,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACa,OAAO,CAAEC,UAAU,CAAC,CAAGd,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACe,KAAK,CAAEC,QAAQ,CAAC,CAAGhB,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAAAiB,QAAQ,CAAGd,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAe,cAAc,CAAG,KAAAA,CAAA,GAAY,CACjC,GAAI,CAACP,MAAM,CAACQ,IAAI,CAAC,CAAC,CAAE,CAClBH,QAAQ,CAAC,wBAAwB,CAAC,CAClC,OACF,CACAF,UAAU,CAAC,IAAI,CAAC,CAChBE,QAAQ,CAAC,IAAI,CAAC,CACd,GAAI,CACF,KAAM,CAAAI,QAAQ,CAAG,KAAM,CAAAnB,KAAK,CAACoB,IAAI,CAAC,0CAA0C,CAAE,CAAEV,MAAO,CAAC,CAAC,CACzF,KAAM,CAAAW,cAAc,CAAGF,QAAQ,CAACG,IAAI,CAACC,UAAU,CAC/CC,OAAO,CAACC,GAAG,CAAC,+BAA+B,CAAEJ,cAAc,CAAC,CAC5DZ,gBAAgB,CAACY,cAAc,CAAC,CAChCG,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAC,CACpCT,QAAQ,CAAC,SAAS,CAAC,CACrB,CAAE,MAAOF,KAAK,CAAE,KAAAY,eAAA,CACdF,OAAO,CAACV,KAAK,CAAC,yBAAyB,CAAE,EAAAY,eAAA,CAAAZ,KAAK,CAACK,QAAQ,UAAAO,eAAA,iBAAdA,eAAA,CAAgBJ,IAAI,GAAIR,KAAK,CAACa,OAAO,CAAC,CAC/EZ,QAAQ,CAAC,6CAA6C,CAAC,CACzD,CAAC,OAAS,CACRF,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,mBACEP,KAAA,QAAKsB,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDvB,KAAA,OAAIsB,SAAS,CAAC,yDAAyD,CAAAC,QAAA,eACrEzB,IAAA,CAACH,KAAK,EAAC2B,SAAS,CAAC,MAAM,CAAE,CAAC,2BAC5B,EAAI,CAAC,cACLxB,IAAA,aACE0B,KAAK,CAAEpB,MAAO,CACdqB,QAAQ,CAAGC,CAAC,EAAKrB,SAAS,CAACqB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC3CI,WAAW,CAAC,uCAAuC,CACnDN,SAAS,CAAC,kFAAkF,CAC5FO,IAAI,CAAC,IAAI,CACTC,QAAQ,CAAExB,OAAQ,CACnB,CAAC,CACDE,KAAK,eAAIV,IAAA,MAAGwB,SAAS,CAAC,wBAAwB,CAAAC,QAAA,CAAEf,KAAK,CAAI,CAAC,cAC3DR,KAAA,WACE+B,OAAO,CAAEpB,cAAe,CACxBmB,QAAQ,CAAExB,OAAQ,CAClBgB,SAAS,CAAE,yFACThB,OAAO,CAAG,gCAAgC,CAAG,0CAA0C,EACtF,CAAAiB,QAAA,eAEHzB,IAAA,CAACH,KAAK,EAAC2B,SAAS,CAAC,MAAM,CAAE,CAAC,CACzBhB,OAAO,CAAG,eAAe,CAAG,gBAAgB,EACvC,CAAC,EACN,CAAC,CAEV,CAEA,cAAe,CAAAL,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}